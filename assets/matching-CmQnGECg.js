import{I as u}from"./index-C2QYkVRQ.js";const s={INTEREST:8,INTENT_MATCH:35,INTENT_MISMATCH_PENALTY:-40,PERSONALITY_COMPATIBLE:15,PERSONALITY_MATCH:10,DEPARTMENT_MATCH:10,MAJOR_MATCH:20,YEAR_MATCH:10,FRIENDSHIP_BONUS:20},p={Introvert:["Extrovert","Ambivert","Deep thinker"],Extrovert:["Introvert","Ambivert","Funny"],"Deep thinker":["Deep thinker","Introvert","Romantic"],Adventurous:["Adventurous","Funny","Chill"],Chill:["Chill","Adventurous","Ambivert"],Romantic:["Romantic","Deep thinker"],Funny:["Funny","Extrovert","Adventurous"]},y={"B.Tech":["B.Tech","M.Tech","MCA"],"M.Tech":["B.Tech","M.Tech","PhD"],MCA:["B.Tech","MCA","B.Sc"],MBA:["MBA","BBA","B.Tech"],"B.Arch":["B.Arch","B.Des","Fine Arts"]};function d(e,i){let n=0;const l=[],r=[];let a,c="Standard";e.department&&i.department&&(e.department===i.department?(n+=s.DEPARTMENT_MATCH,e.major===i.major?(n+=s.MAJOR_MATCH,a="Study Buddies ðŸ“š",c="Study Buddy"):a=`${e.department} Squad`):y[e.department]?.includes(i.department)&&(n+=5,a="Power Couple ðŸš€")),e.year&&i.year&&e.year===i.year&&(n+=s.YEAR_MATCH);const S=new Set(e.interests);i.interests.forEach(t=>{S.has(t)&&(l.push(t),n+=s.INTEREST)});const M=u.DatingIntent,o=e.interests.find(t=>M.includes(t)),T=i.interests.find(t=>M.includes(t)),E=o==="Friendship first"||T==="Friendship first";o&&T&&(o===T?(n+=s.INTENT_MATCH,r.push("Looking for the same thing"),o==="Friendship first"&&(n+=s.FRIENDSHIP_BONUS,c="Bestie",r.push("Potential BFF ðŸ‘¯â€â™€ï¸"))):(o==="Serious relationship"&&T==="Casual dating"||o==="Casual dating"&&T==="Serious relationship")&&(n+=s.INTENT_MISMATCH_PENALTY));const I=u.Personality,m=e.interests.filter(t=>I.includes(t)),C=i.interests.filter(t=>I.includes(t));let A=0;m.forEach(t=>{C.forEach(f=>{t===f?(A+=s.PERSONALITY_MATCH,E&&(A+=5)):p[t]?.includes(f)&&(A+=s.PERSONALITY_COMPATIBLE,r.includes("Vibe Check Passed")||r.push("Vibe Check Passed"))})}),n+=Math.min(A,40);const h=Math.min(Math.max(Math.round(n/100*100),0),100);return h>=90?c="Soul Mate":E&&h>=70&&(c="Bestie"),{score:n,percentage:h,commonInterests:l,vibeTags:r,academicSynergy:a,matchType:c}}function P(e,i){return d(e,i).score}function N(e,i){return[...i].sort((n,l)=>{const r=d(e,n);return d(e,l).score-r.score})}export{d as a,P as c,N as s};
