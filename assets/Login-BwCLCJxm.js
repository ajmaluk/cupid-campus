import{c as x,r as n,u as S,a as E,j as e,m as t,H as b,S as z,A as I,s as u}from"./index-D7HYzwzr.js";import{B as w}from"./Button-DPgdzv4R.js";import{L as A}from"./lock-6zx9YT-I.js";import{L}from"./loader-circle-ChAVFfyN.js";const _=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],M=x("arrow-right",_);const O=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],P=x("circle-check",O);const q=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],W=x("mail",q);function D(){const[i,j]=n.useState(""),[o,v]=n.useState(""),[p,l]=n.useState(!1),[N,k]=n.useState(!1),[h,d]=n.useState(""),r=S(),{currentUser:f,setCurrentUser:y}=E();n.useEffect(()=>{f&&r("/discover")},[f,r]);const g=i.trim()==="cee.ee.tea.2026@gmail.com",C=async c=>{if(c.preventDefault(),l(!0),d(""),g){if(!o){d("Password required for admin."),l(!1);return}try{const{data:a,error:m}=await u.auth.signInWithPassword({email:i.trim(),password:o});if(m)throw m;a.user&&(y({id:"admin-user",name:"Cupid Admin",age:99,gender:"Other",interested_in:"Everyone",department:"Administration",major:"Love Engineering",course:"Master of Matchmaking",year:"Staff",bio:"Official Administrator of Cupid Campus.",interests:["Matchmaking","Coding","Coffee"],photos:[{id:"1",url:"https://images.unsplash.com/photo-1518644730709-0835105d9daa?w=800",is_primary:!0}],primary_photo:"https://images.unsplash.com/photo-1518644730709-0835105d9daa?w=800",created_at:new Date().toISOString(),is_admin:!0}),r("/admin"));return}catch(a){d(a instanceof Error?a.message:"Admin login failed."),l(!1);return}}if(!i.trim().endsWith("@cet.ac.in")){d("Access restricted to @cet.ac.in emails only."),l(!1);return}try{const{data:a,error:m}=await u.auth.signInWithPassword({email:i.trim(),password:o});if(m)throw m;if(a.user){const{data:s}=await u.from("profiles").select("*").eq("id",a.user.id).single();s&&s.name&&s.age&&s.photos&&s.photos.length>0?(y(s),r("/discover")):r("/onboarding")}}catch(a){d(a instanceof Error?a.message:"Authentication failed.")}finally{l(!1)}};return e.jsxs("div",{className:"min-h-screen w-full flex bg-background overflow-x-hidden",children:[e.jsxs("div",{className:"hidden md:flex w-1/2 relative bg-black/40 items-center justify-center overflow-hidden border-r border-white/5",children:[e.jsx(t.div,{animate:{scale:[1,1.2,1],rotate:[0,45,0]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-[-20%] left-[-20%] w-[800px] h-[800px] bg-primary/20 rounded-full blur-[120px] opacity-40"}),e.jsx(t.div,{animate:{scale:[1,1.3,1],rotate:[0,-45,0]},transition:{duration:25,repeat:1/0,ease:"linear"},className:"absolute bottom-[-20%] right-[-20%] w-[800px] h-[800px] bg-purple-500/20 rounded-full blur-[120px] opacity-40"}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center p-12 max-w-xl",children:[e.jsx(t.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8},className:"mb-8",children:e.jsx("div",{className:"w-32 h-32 bg-gradient-to-tr from-primary to-purple-600 rounded-[40px] flex items-center justify-center shadow-2xl shadow-primary/30 mx-auto transform rotate-12",children:e.jsx(b,{className:"text-white w-16 h-16 fill-current"})})}),e.jsx(t.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.8},className:"text-6xl font-bold text-white mb-6 tracking-tight",children:"Cupid Campus"}),e.jsxs(t.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.8},className:"text-xl text-gray-300 leading-relaxed",children:["The exclusive dating platform for CET students. ",e.jsx("br",{}),"Find your match, make connections, and spark something new."]})]})]}),e.jsxs("div",{className:"w-full md:w-1/2 relative flex flex-col items-center justify-center p-0 md:p-6 bg-background min-h-[100dvh] md:h-auto",children:[e.jsxs("div",{className:"md:hidden absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx(t.div,{animate:{scale:[1,1.2,1],rotate:[0,90,0]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-[-20%] left-[-20%] w-[600px] h-[600px] bg-primary/20 rounded-full blur-[120px] opacity-60"}),e.jsx(t.div,{animate:{scale:[1,1.3,1],rotate:[0,-90,0]},transition:{duration:25,repeat:1/0,ease:"linear"},className:"absolute bottom-[-20%] right-[-20%] w-[600px] h-[600px] bg-purple-500/20 rounded-full blur-[120px] opacity-60"})]}),e.jsx("div",{className:"hidden md:block absolute inset-0 overflow-hidden pointer-events-none",children:e.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-primary/5 rounded-full blur-[100px]"})}),e.jsxs(t.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,ease:"easeOut"},className:"z-10 w-full md:max-w-md min-h-full md:min-h-0 md:h-auto bg-black/40 md:bg-white/5 backdrop-blur-3xl md:backdrop-blur-2xl border-none md:border md:border-white/10 rounded-none md:rounded-[40px] p-6 md:p-8 md:shadow-2xl relative overflow-hidden flex flex-col justify-center",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-white/50 to-transparent opacity-50"}),e.jsxs("div",{className:"flex justify-center mb-8 relative md:hidden shrink-0",children:[e.jsx(t.div,{animate:{rotate:[12,0,12]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},className:"w-20 h-20 bg-gradient-to-tr from-primary to-purple-600 rounded-[24px] flex items-center justify-center shadow-lg shadow-primary/40 relative z-10",children:e.jsx(b,{className:"text-white w-10 h-10 fill-current drop-shadow-md"})}),e.jsx(t.div,{animate:{y:[-10,10,-10]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute top-0 right-10 text-yellow-300",children:e.jsx(z,{size:24})})]}),e.jsxs("div",{className:"text-center space-y-3 mb-10 shrink-0",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Welcome Back"}),e.jsx("p",{className:"text-gray-400",children:"Enter your details to access your account"})]}),e.jsx(I,{mode:"wait",children:N?e.jsxs(t.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center space-y-6",children:[e.jsx("div",{className:"w-16 h-16 bg-green-500/20 text-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(P,{size:32})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Check your email!"}),e.jsxs("p",{className:"text-gray-400",children:["We sent a magic link to ",e.jsx("br",{}),e.jsx("span",{className:"text-white font-medium",children:i})]})]}),e.jsx(w,{variant:"ghost",onClick:()=>k(!1),className:"text-gray-500 hover:text-white",children:"Try different email"})]},"success"):e.jsxs(t.form,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",onSubmit:C,children:[e.jsxs("div",{className:"flex justify-center mb-8 bg-black/30 p-1.5 rounded-2xl shrink-0 border border-white/5",children:[e.jsx("button",{type:"button",className:"flex-1 py-3 rounded-xl text-sm font-bold transition-all bg-primary text-white shadow-lg shadow-primary/20",children:"Login"}),e.jsx("button",{type:"button",onClick:()=>r("/signup"),className:"flex-1 py-3 rounded-xl text-sm font-bold transition-all text-gray-400 hover:text-white hover:bg-white/5",children:"Sign Up"})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(W,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-primary transition-colors",size:20}),e.jsx("input",{type:"email",placeholder:"College Email (@cet.ac.in)",className:"w-full bg-black/20 border border-white/10 rounded-2xl h-14 pl-12 pr-4 text-white placeholder:text-gray-600 focus:outline-none focus:border-primary/50 focus:bg-black/40 focus:ring-1 focus:ring-primary/50 transition-all text-base font-medium",value:i,onChange:c=>j(c.target.value),autoFocus:!0,autoCapitalize:"none",inputMode:"email",autoComplete:"username"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(A,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-primary transition-colors",size:20}),e.jsx("input",{type:"password",placeholder:"Password",className:"w-full bg-black/20 border border-white/10 rounded-2xl h-14 pl-12 pr-4 text-white placeholder:text-gray-600 focus:outline-none focus:border-primary/50 focus:bg-black/40 focus:ring-1 focus:ring-primary/50 transition-all text-base font-medium",value:o,onChange:c=>v(c.target.value),autoComplete:"current-password"})]})]}),h&&e.jsxs(t.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-red-500/10 border border-red-500/20 rounded-xl flex items-center gap-3",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500 shrink-0"}),e.jsx("p",{className:"text-red-200 text-sm font-medium",children:h})]}),e.jsx(w,{className:"w-full h-14 text-lg font-bold rounded-2xl bg-gradient-to-r from-primary to-purple-600 hover:to-purple-500 text-white shadow-xl shadow-primary/25 transition-all active:scale-95 flex items-center justify-center gap-2 group disabled:opacity-70 mt-6 border border-white/10",disabled:p||!i||!o,children:p?e.jsx(L,{className:"animate-spin"}):e.jsxs(e.Fragment,{children:[g?"Admin Login":"Login",e.jsx(M,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})})]},"form")}),e.jsx("div",{className:"mt-8 text-center shrink-0",children:e.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:e.jsx("span",{className:"text-primary/80 font-medium",children:"Only for @cet.ac.in students"})})})]}),e.jsx(t.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:1},className:"absolute bottom-8 text-center z-20",children:e.jsx("p",{className:"text-gray-600 text-xs uppercase tracking-widest font-bold",children:"Made with ❤️ for CET"})})]})]})}export{D as default};
